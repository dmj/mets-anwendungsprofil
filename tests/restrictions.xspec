<description schematron="../source/profile.sch"
             xmlns="http://www.jenitennison.com/xslt/xspec"
             xmlns:mets="http://www.loc.gov/METS/"
             xmlns:xlink="http://www.w3.org/1999/xlink">

  <scenario label="Testing the restrictions of the METS root element">
    <scenario label="the @OBJID attribute is missing">
      <context>
        <mets:mets/>
      </context>
      <expect-assert id="metsRootElement.assert.1"/>
    </scenario>
    <scenario label="the @OBJID attribute is present">
      <context>
        <mets:mets OBJID="foo/bar"/>
      </context>
      <expect-not-assert id="metsRootElement.assert.1"/>
    </scenario>
    <scenario label="the @LABEL attribute is missing">
      <context>
        <mets:mets/>
      </context>
      <expect-assert id="metsRootElement.assert.2"/>
    </scenario>
    <scenario label="the @LABEL attribute is present">
      <context>
        <mets:mets LABEL="foobar"/>
      </context>
      <expect-not-assert id="metsRootElement.assert.2"/>
    </scenario>
    <scenario label="the @PROFILE attribute is missing">
      <context>
        <mets:mets/>
      </context>
      <expect-assert id="metsRootElement.assert.3"/>
    </scenario>
    <scenario label="the @PROFILE attribute is present but has a wrong value">
      <context>
        <mets:mets PROFILE="foo/bar"/>
      </context>
      <expect-assert id="metsRootElement.assert.3"/>
    </scenario>
        <scenario label="the @PROFILE attribute is present but has a wrong value">
      <context>
        <mets:mets PROFILE="tag:diglib.hab.de,2018:METS:v1"/>
      </context>
      <expect-not-assert id="metsRootElement.assert.3"/>
    </scenario>
  </scenario>

  <scenario label="Testing the restrictions of the metsHdr element">
    <scenario label="the metsHdr element is missing">
      <context>
        <mets:mets/>
      </context>
      <expect-assert id="metsHdr.assert.0"/>
    </scenario>
    <scenario label="the metsHdr element is present but has no @CREATEDATE attribute">
      <context>
        <mets:mets>
          <mets:metsHdr/>
        </mets:mets>
      </context>
      <expect-assert id="metsHdr.assert.1"/>
    </scenario>
    <scenario label="the metsHdr element is present but the agent is missing">
      <context>
        <mets:mets>
          <mets:metsHdr CREATEDATE="1970-01-01T00:00:00Z"/>
        </mets:mets>
      </context>
      <expect-assert id="metsHdr.assert.1"/>
    </scenario>
    <scenario label="the metsHdr element is present but lists the wrong agent as custodian">
      <context>
        <mets:mets>
          <mets:metsHdr CREATEDATE="1970-01-01T00:00:00Z">
            <mets:agent ROLE="CUSTODIAN" TYPE="ORGANIZATION">
              <mets:name>Someone, Inc.</mets:name>
            </mets:agent>
          </mets:metsHdr>
        </mets:mets>
      </context>
      <expect-not-assert id="metsHdr.assert.1"/>
      <expect-assert id="metsHdr.assert.2"/>
    </scenario>
    <scenario label="the metsHdr element is present and lists the right agent as custodian">
      <context>
        <mets:mets>
          <mets:metsHdr CREATEDATE="1970-01-01T00:00:00Z">
            <mets:agent ROLE="CUSTODIAN" TYPE="ORGANIZATION">
              <mets:name>Herzog August Bibliothek Wolfenb√ºttel</mets:name>
            </mets:agent>
          </mets:metsHdr>
        </mets:mets>
      </context>
      <expect-not-assert id="metsHdr.assert.1"/>
      <expect-not-assert id="metsHdr.assert.2"/>
    </scenario>
  </scenario>

</description>
