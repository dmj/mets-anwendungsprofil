<description xmlns="http://www.jenitennison.com/xslt/xspec" schematron="../../source/profile.sch">
  <scenario label="Testing restrictions of the outermost element">
    <context>
      <mets:mets xmlns:mets="http://www.loc.gov/METS/"/>
    </context>
    <scenario label="when @OBJID is empty or missing">
      <expect-assert id="metsRootElement.assert.1" label="a non-empty @OBJID attribut is required"/>
    </scenario>
    <scenario label="when @LABEL is empty or missing">
      <expect-assert id="metsRootElement.assert.2" label="a non-empty @LABEL attribut is required"/>
    </scenario>
  </scenario>
  <scenario label="Testing the restrictions of the metsHdr element">
    <scenario label="when metsHdr is missing">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/"/>
      </context>
      <expect-assert id="metsHdr.assert.1" label="a metsHdr element is required"/>
    </scenario>
    <scenario label="when metsHdr is incomplete">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/">
          <mets:metsHdr/>
        </mets:mets>
      </context>
      <expect-assert id="metsHdr.assert.2" label="the metsHdr element is incomplete"/>
    </scenario>
  </scenario>
  <scenario label="Testing the restrictions of the file section">
    <scenario label="when there is no mets:file with a @USE of MASTER">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/">
          <mets:fileSec/>
        </mets:mets>
      </context>
      <expect-assert id="fileSec.assert.1" label="no file with a @USE of MASTER is provided"/>
    </scenario>
    <scenario label="when there is a mets:file that overrides an inherited @USE of MASTER">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/">
          <mets:fileSec>
            <mets:fileGrp USE="MASTER">
              <mets:file USE="FOOBAR"/>
            </mets:fileGrp>
          </mets:fileSec>
        </mets:mets>
      </context>
      <expect-assert id="fileSec.assert.1" label="mets:file overrides an inherited @USE of MASTER"/>
    </scenario>
    <scenario label="when there is a mets:fileGrp that overrides an inherited @USE of MASTER">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/">
          <mets:fileSec>
            <mets:fileGrp USE="MASTER">
              <mets:fileGrp USE="FOOBAR">
                <mets:file/>
              </mets:fileGrp>
            </mets:fileGrp>
          </mets:fileSec>
        </mets:mets>
      </context>
      <expect-assert id="fileSec.assert.1" label="mets:fileGrp overrides an inherited @USE of MASTER"/>
    </scenario>
    <scenario label="when there is a mets:file with a @USE of MASTER">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/">
          <mets:fileSec>
            <mets:fileGrp>
              <mets:file USE="MASTER"/>
            </mets:fileGrp>
          </mets:fileSec>
        </mets:mets>
      </context>
      <expect-not-assert id="fileSec.assert.1" label="a mets:file with a @USE of MASTER"/>
    </scenario>
    <scenario label="when there is a mets:file that inherits a @USE of MASTER">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/">
          <mets:fileSec>
            <mets:fileGrp USE="MASTER">
              <mets:file/>
            </mets:fileGrp>
          </mets:fileSec>
        </mets:mets>
      </context>
      <expect-not-assert id="fileSec.assert.1" label="a mets:file that inherits a @USE of MASTER"/>
    </scenario>
  </scenario>
  <scenario label="Testing restrictions of the object structure">
    <scenario label="when there is no physical structure">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/"/>
      </context>
      <expect-assert id="structMap.assert.1" label="there is no physical structure"/>
    </scenario>
    <scenario label="when there is no logical structure">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/"/>
      </context>
      <expect-assert id="structMap.assert.2" label="there is no logical structure"/>
    </scenario>
    <scenario label="when there is a logical and physical structure">
      <context>
        <mets:mets xmlns:mets="http://www.loc.gov/METS/">
          <mets:structMap TYPE="PHYSICAL"/>
          <mets:structMap TYPE="LOGICAL"/>
        </mets:mets>
      </context>
      <expect-not-assert id="structMap.assert.1" label="there is a physical structure"/>
      <expect-not-assert id="structMap.assert.2" label="there is a logical structure"/>
    </scenario>
  </scenario>

</description>
